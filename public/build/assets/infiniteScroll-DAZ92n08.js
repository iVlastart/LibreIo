import{$ as o}from"./jquery-DkvTqftU.js";function u(i=document){i.querySelectorAll(".date").forEach(n=>{const a=n.textContent.trim().replace(" ","T")+"Z",t=new Date(a);if(isNaN(t))return;const f=new Date-t,r=Math.floor(f/(1e3*60)),l=Math.floor(f/(1e3*60*60)),s=Math.floor(f/(1e3*60*60*24)),c=Math.floor(s/30),h=Math.floor(s/365);let e="";r<1?e="just now":r<60?e=`${r} ${r===1?"min":"mins"} ago`:l<24?e=`${l} ${l===1?"hour":"hours"} ago`:s<30?e=`${s} ${s===1?"day":"days"} ago`:c<12?e=`${c} ${c===1?"month":"months"} ago`:e=`${h} ${h===1?"year":"years"} ago`,n.innerText=e})}u();o(()=>{let i=1,n=!0;o(window).scroll(function(){o(window).scrollTop()+o(window).height()>=o(document).height()-100&&(i++,n?d(i):o("#loading").text("No more posts to load"))});function d(a){o.ajax({url:"?page="+a,method:"GET",beforeSend:function(){o("#loading").show()},success:function(t){if(t.trim()===""){n=!1;return}o("#loading").hide(),o("#posts-list").append(t),u()},error:function(t){console.log(t.responseText)}})}});
