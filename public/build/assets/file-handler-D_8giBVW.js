import{$ as t}from"./jquery-DkvTqftU.js";t(()=>{let a;const i=t("#x"),n=t("#y"),s=t("#width"),l=t("#height"),d=t("#prev"),c="http://localhost:8000/editor/preview/";let w=localStorage.getItem("videoCount")??0,m=localStorage.getItem("imgCount")??0,I=localStorage.getItem("audioCount")??0;t(".file").each((o,e)=>{const h=e.dataset.projectid,b=e.dataset.filetype,r=e.dataset.filename;e.onclick=()=>{switch(b){case"video":const p=`video-${w}`;d.append(`<video id="${p}" src="${c}${h}/${encodeURIComponent(r)}" 
                                            data-top="0" data-left="0" data-width="0" data-height="0" class="absolute 
                                                    top-[0%] left-[0%] -translate-x-[0%] -translate-y-[0%] h-1/2 w-1/2 object-cover z-20">
                                        </video>`),t(`#${p}`).on("click",function(){a=p;let u=this.dataset.top,f=this.dataset.left,g=this.dataset.width,v=this.dataset.height;i.val(f),n.val(u),s.val(g),l.val(v)}),w++;break;case"image":const $=`img-${m}`;d.append(`<img id='${$}' src="${c}${h}/${encodeURIComponent(r)}" 
                                        data-top="0" data-left="0" data-width="0" data-height="0" class="absolute 
                                        top-[0%] left-[0%] -translate-x-[0%] -translate-y-[0%] h-1/2 w-1/2 object-cover z-20">`),t(`#${$}`).on("click",function(){a=$;let u=this.dataset.top,f=this.dataset.left,g=this.dataset.width,v=this.dataset.height;i.val(f),n.val(u),s.val(g),l.val(v)}),m++;break;case"audio":d.append(`<audio id='audio-${I}' disabled src="${c}${h}/${encodeURIComponent(r)}" 
                                                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-1/2 w-1/2 
                                                        object-cover z-0">
                                        </audio>`),I++;break}}}),i.on("change",function(){if(!a)return;const o=t(`#${a}`);let e=t(this).val();o.data("left",e),o.css({left:`${e}%`}),t(`#${a}`)[0].dataset.left=e}),n.on("change",function(){if(!a)return;const o=t(`#${a}`);let e=t(this).val();o.data("top",e),o.css({top:`${e}%`}),t(`#${a}`)[0].dataset.top=e}),s.on("change",function(){if(!a)return;const o=t(`#${a}`);let e=t(this).val();o.data("width",e),o.css({width:`${e}px`}),t(`#${a}`)[0].dataset.width=e}),l.on("change",function(){if(!a)return;const o=t(`#${a}`);let e=t(this).val();o.data("width",e),o.css({height:`${e}px`}),t(`#${a}`)[0].dataset.height=e})});
