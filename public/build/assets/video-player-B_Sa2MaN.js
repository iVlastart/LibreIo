const a=document.querySelector(".video-container"),y=document.querySelector(".play-pause-btn"),k=document.querySelector(".mini-player-btn"),L=document.querySelector(".theater-btn"),b=document.querySelector(".full-screen-btn"),E=document.querySelector(".mute-btn"),c=document.querySelector(".volume-slider"),h=document.querySelector(".current-time"),S=document.querySelector(".total-time"),o=document.querySelector(".timeline-container"),e=document.querySelector("video");y.addEventListener("click",s);e.addEventListener("click",s);e.addEventListener("play",()=>a.classList.remove("paused"));e.addEventListener("pause",()=>a.classList.add("paused"));document.addEventListener("keydown",function(t){q(t)});document.addEventListener("fullscreenchange",()=>a.classList.toggle("full-screen",document.fullscreenElement));e.addEventListener("volumechange",()=>{c.value=e.volume;let t;e.muted||e.volume===0?(c.value=0,t="muted"):e.volume>.5?t="high":t="low",a.dataset.volumeLevel=t});c.addEventListener("input",t=>{e.volume=t.target.value,e.muted=t.target.value===0});k.addEventListener("click",m);L.addEventListener("click",v);b.addEventListener("click",p);e.addEventListener("enterpictureinpicture",()=>a.classList.add("mini-player"));e.addEventListener("leavepictureinpicture",()=>a.classList.remove("mini-player"));E.addEventListener("click",f);e.addEventListener("loadedmetadata",()=>{e.duration&&isFinite(e.duration)&&(S.textContent=g(e.duration))});e.addEventListener("timeupdate",()=>{if(e.duration&&isFinite(e.duration)){h.textContent=g(e.currentTime);const t=e.currentTime/e.duration;o.style.setProperty("--progress-position",t)}});o.addEventListener("mousemove",w);function q(t){const r=document.activeElement.tagName.toLowerCase();if(r!=="input")switch(console.log(t.key.toLowerCase()),t.key.toLowerCase()){case" ":case"k":if(r==="button")return;t.preventDefault(),s();break;case"i":m();break;case"t":v();break;case"f":p();break;case"m":f();break;case"arrowleft":case"j":d(-5);break;case"arrowright":case"l":d(5);break;case"0":n(0);break;case"1":n(1);break;case"2":n(2);break;case"3":n(3);break;case"4":n(4);break;case"5":n(5);break;case"6":n(6);break;case"7":n(7);break;case"8":n(8);break;case"9":n(9);break}}function n(t){e.currentTime=e.duration/10*t}function s(){e.paused?e.play():e.pause()}function m(){a.classList.contains("mini-player")?document.exitPictureInPicture():e.requestPictureInPicture()}function v(){a.classList.toggle("theater")}function p(){document.fullscreenElement==null?a.requestFullscreen():document.exitFullscreen()}function f(){e.muted=!e.muted}const l=new Intl.NumberFormat(void 0,{minimumIntegerDigits:2});function g(t){const r=Math.floor(t%60),i=Math.floor(t/60)%60,u=Math.floor(t/3600);return u===0?`${i}:${l.format(r)}`:`${u}:${i}:${l.format(r)}`}function w(t){const r=o.getBoundingClientRect(),i=Math.min(Math.max(0,t.x-r.x),r.width)/r.width;o.style.setProperty("--preview-position",i),isScrubbing&&(t.preventDefault(),o.style.setProperty("--progress-position",i))}function d(t){e.currentTime+=t}
